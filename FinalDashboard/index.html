<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">

  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" 
  integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css" />

  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/style.css" media="all">

  <title>Street Food and Hawker Culture in Malaysia</title>
</head>

<body>
  <div class="newspaper-container">
    <!-- Header Section -->
    <header class="newspaper-header">
      <h1 class="main-title">Street Food and Hawker Culture in Malaysia</h1>
      <p class="subtitle">A Visual Exploration of Malaysia's Vibrant Food Scene</p>
    </header>

    <!-- Introduction Section -->
    <section class="pure-g">
      <div class="pure-u-1">
        <div class="chart-container">
          <p>Malaysia's street food culture is a vibrant tapestry of flavors, reflecting the nation's diverse ethnic heritage. This dashboard explores various aspects of hawker culture across different states and communities, starting with expenditure patterns and moving through geographic distribution to cultural diversity.</p>
        </div>
      </div>
    </section>

    <!-- Section 1: Slope Chart with Text Beside -->
    <section class="pure-g">
      <div class="pure-u-1">
        <h2 class="section-header">Household Expenditure Patterns</h2>
      </div>
      
      <!-- Chart on the right, text on the left -->
      <div class="pure-u-1 pure-u-lg-2-5">
        <div class="chart-container">
          <h3 class="chart-title">Understanding Expenditure Trends</h3>
          <p class="chart-description">The slope chart reveals significant shifts in Malaysian household spending between 2019 and 2022. Most notably, <strong>food and beverage consumption increased from 16.3% to 17.3%</strong> of total expenditure, highlighting the growing importance of food in household budgets.</p>
          <p class="chart-description">This trend coincides with changes in other categories: accommodation services saw substantial growth while transport expenses decreased, possibly reflecting post-pandemic lifestyle changes and increased focus on local food experiences.</p>
          <p class="chart-description">The rising expenditure on food and beverages underscores the economic significance of Malaysia's hawker culture and street food scene.</p>
        </div>
      </div>

      <!-- Chart on the right with margin -->
      <div class="pure-u-1 pure-u-lg-3-5">
        <div class="chart-container" style="margin-left: 40px;">
          <div id="slopechart"></div>
        </div>
      </div>
    </section>      
   

    <!-- Section 2: Choropleth Map with Text Beside -->
    <section class="pure-g">
      <div class="pure-u-1">
        <h2 class="section-header">Geographic Distribution</h2>
      </div>
      
      <!-- Map on the left -->
      <div class="pure-u-1 pure-u-lg-3-5">
        <div class="chart-container">
          <div id="choroplethmap"></div>
        </div>
      </div>

      <!-- Text explanation on the right -->
      <div class="pure-u-1 pure-u-lg-2-5">
        <div class="chart-container" style="margin-left: 40px;">
          <h3 class="chart-title">Food Spending Patterns</h3>
          <p class="chart-description">This choropleth map reveals fascinating geographic patterns in food expenditure across Malaysian states. The visualization builds directly on the household expenditure trends shown earlier.</p>
          <p class="chart-description">Darker shades indicate higher food spending percentages, showing which states allocate larger portions of their household budgets to food and beverages.</p>
          <p class="chart-description">Urban centers and developed states typically show different spending patterns compared to more rural areas, reflecting variations in income levels, cost of living, and food culture preferences across the country.</p>
          <p class="chart-description">These geographic variations help explain the diverse hawker culture that has developed to meet different regional demands and spending capacities.</p>
        </div>
      </div>
    </section>

    <!-- Section 3: Dot Matrix and Word Cloud (Side by Side) -->
    <section class="pure-g">
      <div class="pure-u-1">
        <h2 class="section-header">Food Diversity & Preferences</h2>
      </div>

      <!-- Dot Matrix Chart -->
      <div class="pure-u-1 pure-u-lg-1-2">
        <div class="chart-container" style="margin-right: 20px;">
          <h3 class="chart-title">Food & Beverage Spending by Ethnic Group</h3>
          <p class="chart-description">
            This chart shows how different ethnic groups in Malaysia spend their household budget on food and beverages.
            Each dot represents 1% of total spending, making it easy to compare how much each community allocates to food.
          </p>
          <p class="chart-description">
            Some groups spend more on food than others, reflecting both cultural preferences and economic conditions.
            These differences help us understand how Malaysia’s many communities shape the nation’s food culture through their unique eating habits.
          </p>
          <div id="dotmatrix"></div>
        </div>
      </div>

      <!-- Word Cloud Chart -->
      <div class="pure-u-1 pure-u-lg-1-2">
        <div class="chart-container" style="margin-left: 20px;">
          <h3 class="chart-title">Popular Foods by State</h3>
          <p class="chart-description">
            Now we can look into the most popular foods across different Malaysian states.
          </p>
          <p class="chart-description">
            The chart features both well-known national dishes and regional specialties,
            showing how every state contributes its own flavor to Malaysia’s food identity.
            From coastal seafood to comforting local favorites, each region brings something special to the table.
          </p>
          <div id="wordcloud"></div>
        </div>
      </div>
    </section>

    <!-- Section 4: Lollipop Chart (Full Width) -->
    <section class="pure-g">
      <div class="pure-u-1">
        <h2 class="section-header">Hawker Infrastructure Distribution</h2>
      </div>
      
      <div class="pure-u-1">
        <div class="chart-container">
          <h3 class="chart-title">Hawker Stall Distribution by State</h3>
          <p class="chart-description">Detailed breakdown of hawker stall numbers in each state, showing the infrastructure that supports Malaysia's vibrant food culture.</p>
          <div id="lollipopchart"></div>
        </div>
      </div>
    </section>

    <!-- Section 5: Bubble Chart and Radar Chart (Side by Side) -->
    <section class="pure-g">
      <div class="pure-u-1">
        <h2 class="section-header">Hawker Business Analysis</h2>
      </div>
      
      <div class="pure-u-1 pure-u-lg-1-2">
        <div class="chart-container" style="margin-right: 20px;">
          <h3 class="chart-title">Stall Categories Distribution</h3>
          <p class="chart-description">Bubble chart showing the prevalence of different hawker stall types, from traditional setups to modern food trucks.</p>
          <div id="bubblechart"></div>
        </div>
      </div>
      
      <div class="pure-u-1 pure-u-lg-1-2">
        <div class="chart-container" style="margin-left: 20px;">
          <h3 class="chart-title">Stall Categories by State</h3>
          <p class="chart-description">Radar chart showing how different states vary in their mix of hawker stall infrastructure and facilities.</p>
          <div id="radarchart"></div>
        </div>
      </div>
    </section>

  </div>

  <script type="text/javascript">
    // Function to embed Vega visualizations
    function embedVisualization(divId, specUrl) {
      vegaEmbed(divId, specUrl)
        .then(result => console.log(`Visualization ${divId} loaded successfully`))
        .catch(error => console.error(`Error loading ${divId}:`, error));
    }

    // Embed all visualizations when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Update these paths to match your actual JSON file locations
      embedVisualization('#slopechart', 'js/slopechart.json');
      embedVisualization('#choroplethmap', 'js/choroplethmap.json');
      embedVisualization('#dotmatrix', 'js/dotmatrix.json');
      embedVisualization('#wordcloud', 'js/wordcloud.json');
      embedVisualization('#lollipopchart', 'js/lollipopchart.json');
      embedVisualization('#bubblechart', 'js/bubblechart.json');
      embedVisualization('#radarchart', 'js/radarchart.json');
    });
  </script>
</body>
</html>